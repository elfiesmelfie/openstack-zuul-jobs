- job:
    name: legacy-barbican-simple-crypto-dsvm-tempest-nova
    parent: legacy-dsvm-base
    run: playbooks/legacy/barbican-simple-crypto-dsvm-tempest-nova/run.yaml
    post-run: playbooks/legacy/barbican-simple-crypto-dsvm-tempest-nova/post.yaml
    timeout: 4200
    required-projects:
      - openstack/devstack-gate
      - openstack/barbican
      - openstack/barbican-tempest-plugin
      - openstack/castellan
      - x/cursive
      - openstack/nova
      - openstack/python-barbicanclient
      - openstack/tempest

- job:
    name: legacy-devstack-dsvm-updown
    parent: legacy-dsvm-base
    run: playbooks/legacy/devstack-dsvm-updown/run.yaml
    post-run: playbooks/legacy/devstack-dsvm-updown/post.yaml
    timeout: 4200
    required-projects:
      - openstack/devstack
      - openstack/devstack-gate
      # following are required when DEVSTACK_GATE_HEAT, which this
      # job turns on
      - openstack/dib-utils
      - openstack/diskimage-builder
      # Required by DEVSTACK_GATE_SAHARA
      - openstack/sahara
      - openstack/sahara-dashboard

- job:
    name: legacy-dox-buildimages
    parent: legacy-base
    run: playbooks/legacy/dox-buildimages/run.yaml
    post-run: playbooks/legacy/dox-buildimages/post.yaml
    timeout: 5400

- job:
    name: legacy-dsvm-os-loganalyze
    parent: legacy-dsvm-base
    run: playbooks/legacy/dsvm-os-loganalyze/run.yaml
    post-run: playbooks/legacy/dsvm-os-loganalyze/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/os-loganalyze

- job:
    name: legacy-fuel-astute-puppet-unit-3.8-centos-7
    parent: legacy-base
    run: playbooks/legacy/fuel-astute-puppet-unit-3.8-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-fuel-ccp-validate
    parent: legacy-base
    run: playbooks/legacy/fuel-ccp-validate/run.yaml
    timeout: 1800
    required-projects:
      - x/fuel-ccp

- job:
    name: legacy-fuel-library-puppet-lint
    parent: legacy-base
    run: playbooks/legacy/fuel-library-puppet-lint/run.yaml
    timeout: 1800

- job:
    name: legacy-fuel-library-puppet-unit-3.8-centos-7
    parent: legacy-base
    run: playbooks/legacy/fuel-library-puppet-unit-3.8-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-fuel-library-puppet-unit-4.5-centos-7
    parent: legacy-base
    run: playbooks/legacy/fuel-library-puppet-unit-4.5-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-fuel-nailgun-agent-puppet-unit-3.8-centos-7
    parent: legacy-base
    run: playbooks/legacy/fuel-nailgun-agent-puppet-unit-3.8-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-fuel-octane-puppet-lint
    parent: legacy-base
    run: playbooks/legacy/fuel-octane-puppet-lint/run.yaml
    timeout: 1800

- job:
    name: legacy-gearman-plugin-hpi-artifact
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/gearman-plugin-hpi-artifact/run.yaml
    post-run: playbooks/legacy/gearman-plugin-hpi-artifact/post.yaml
    timeout: 1800

- job:
    name: legacy-gearman-plugin-jenkinsci-upload
    parent: legacy-base
    run: playbooks/legacy/gearman-plugin-jenkinsci-upload/run.yaml
    timeout: 1800

- job:
    name: legacy-gearman-plugin-maven-build-ubuntu-trusty
    parent: legacy-base
    run: playbooks/legacy/gearman-plugin-maven-build-ubuntu-trusty/run.yaml
    timeout: 1800
    nodeset: legacy-ubuntu-trusty

- job:
    name: legacy-grenade-dsvm-cinder-mn-sub-bak
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/grenade-dsvm-cinder-mn-sub-bak/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-cinder-mn-sub-bak/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/cinder

- job:
    name: legacy-grenade-dsvm-cinder-mn-sub-volbak
    parent: legacy-dsvm-base-multinode
    branches: ^(?!(driverfixes|stable/(newton|ocata))).*$
    run: playbooks/legacy/grenade-dsvm-cinder-mn-sub-volbak/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-cinder-mn-sub-volbak/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/cinder

- job:
    name: legacy-grenade-dsvm-cinder-mn-sub-volschbak
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/grenade-dsvm-cinder-mn-sub-volschbak/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-cinder-mn-sub-volschbak/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/cinder

- job:
    name: legacy-grenade-dsvm-neutron-forward
    parent: legacy-dsvm-base
    run: playbooks/legacy/grenade-dsvm-neutron-forward/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-neutron-forward/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/neutron

- job:
    name: legacy-grenade-dsvm-neutron-fwaas-multinode
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/grenade-dsvm-neutron-fwaas-multinode/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-neutron-fwaas-multinode/post.yaml
    timeout: 7500
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas
    branches: ^(?!stable/(newton|ocata)).*$

- job:
    name: legacy-grenade-dsvm-neutron-libs
    parent: legacy-dsvm-base
    run: playbooks/legacy/grenade-dsvm-neutron-libs/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-neutron-libs/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/keystoneauth
      - openstack/neutron
      - openstack/neutron-lib
      - openstack/os-client-config
      - openstack/python-cinderclient
      - openstack/python-glanceclient
      - openstack/python-ironicclient
      - openstack/python-keystoneclient
      - openstack/python-neutronclient
      - openstack/python-novaclient
    branches: ^(?!stable/(newton|ocata)).*$

- job:
    name: legacy-grenade-dsvm-neutron-linuxbridge-multinode
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/grenade-dsvm-neutron-linuxbridge-multinode/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-neutron-linuxbridge-multinode/post.yaml
    timeout: 7500
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/neutron
    branches: ^(?!stable/(newton|ocata)).*$

- job:
    name: legacy-grenade-dsvm-neutron-multinode-live-migration
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/grenade-dsvm-neutron-multinode-live-migration/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-neutron-multinode-live-migration/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/neutron
    branches: ^(?!(driverfixes|stable/(newton|ocata))).*$

- job:
    name: legacy-grenade-dsvm-neutron-multinode-zero-downtime
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/grenade-dsvm-neutron-multinode-zero-downtime/run.yaml
    post-run: playbooks/legacy/grenade-dsvm-neutron-multinode-zero-downtime/post.yaml
    timeout: 10800
    required-projects:
      - openstack/grenade
      - openstack/devstack-gate
      - openstack/neutron
    branches: ^(?!stable/(newton|ocata)).*$

- job:
    name: legacy-group-based-policy-dsvm-aim
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-aim/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-aim/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client

- job:
    name: legacy-group-based-policy-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-functional/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-functional/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client

- job:
    name: legacy-group-based-policy-dsvm-functional-ubuntu-trusty
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-functional-ubuntu-trusty/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-functional-ubuntu-trusty/post.yaml
    timeout: 7800
    nodeset: legacy-ubuntu-trusty
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client

- job:
    name: legacy-group-based-policy-dsvm-nfp
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-nfp/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-nfp/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client

- job:
    name: legacy-group-based-policy-dsvm-nfp-ubuntu-trusty
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-nfp-ubuntu-trusty/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-nfp-ubuntu-trusty/post.yaml
    timeout: 7800
    nodeset: legacy-ubuntu-trusty
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client

- job:
    name: legacy-group-based-policy-dsvm-rally
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-rally/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-rally/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client
      - openstack/rally

- job:
    name: legacy-group-based-policy-dsvm-rally-ubuntu-trusty
    parent: legacy-dsvm-base
    run: playbooks/legacy/group-based-policy-dsvm-rally-ubuntu-trusty/run.yaml
    post-run: playbooks/legacy/group-based-policy-dsvm-rally-ubuntu-trusty/post.yaml
    timeout: 7800
    nodeset: legacy-ubuntu-trusty
    required-projects:
      - openstack/devstack-gate
      - x/group-based-policy
      - x/group-based-policy-automation
      - x/group-based-policy-ui
      - x/python-group-based-policy-client
      - openstack/rally

- job:
    name: legacy-groups-release-branch
    parent: legacy-base
    run: playbooks/legacy/groups-release-branch/run.yaml
    post-run: playbooks/legacy/groups-release-branch/post.yaml
    timeout: 1800

- job:
    name: legacy-groups-release-master
    parent: legacy-base
    run: playbooks/legacy/groups-release-master/run.yaml
    post-run: playbooks/legacy/groups-release-master/post.yaml
    timeout: 1800

- job:
    name: legacy-groups-unittests
    parent: legacy-base
    run: playbooks/legacy/groups-unittests/run.yaml
    post-run: playbooks/legacy/groups-unittests/post.yaml
    timeout: 1800

- job:
    name: legacy-js-openstack-lib-dsvm-nodejs4-npm-run-functional-test
    parent: legacy-dsvm-base
    run: playbooks/legacy/js-openstack-lib-dsvm-nodejs4-npm-run-functional-test/run.yaml
    post-run: playbooks/legacy/js-openstack-lib-dsvm-nodejs4-npm-run-functional-test/post.yaml
    timeout: 2400
    required-projects:
      - openstack/devstack-gate
      - openstack/js-openstack-lib

- job:
    name: legacy-js-openstack-lib-dsvm-nodejs6-npm-run-functional-test
    parent: legacy-dsvm-base
    run: playbooks/legacy/js-openstack-lib-dsvm-nodejs6-npm-run-functional-test/run.yaml
    post-run: playbooks/legacy/js-openstack-lib-dsvm-nodejs6-npm-run-functional-test/post.yaml
    timeout: 2400
    required-projects:
      - openstack/devstack-gate
      - openstack/js-openstack-lib

- job:
    name: legacy-js-openstack-lib-nodejs6-npm-sdk-docs
    parent: legacy-base
    run: playbooks/legacy/js-openstack-lib-nodejs6-npm-sdk-docs/run.yaml
    timeout: 1800

- job:
    name: legacy-keystoneclient-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/keystoneclient-dsvm-functional/run.yaml
    post-run: playbooks/legacy/keystoneclient-dsvm-functional/post.yaml
    timeout: 4200
    required-projects:
      - openstack/devstack-gate
      - openstack/keystone
      - openstack/python-keystoneclient

- job:
    name: legacy-kingbird-dsvm-multiregion
    parent: legacy-dsvm-base
    run: playbooks/legacy/kingbird-dsvm-multiregion/run.yaml
    post-run: playbooks/legacy/kingbird-dsvm-multiregion/post.yaml
    timeout: 5400
    required-projects:
      - openstack/devstack-gate
      - x/kingbird

- job:
    name: legacy-laravel-openstackid-release-branch
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/laravel-openstackid-release-branch/run.yaml
    post-run: playbooks/legacy/laravel-openstackid-release-branch/post.yaml
    timeout: 1800

- job:
    name: legacy-laravel-openstackid-release-master
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/laravel-openstackid-release-master/run.yaml
    post-run: playbooks/legacy/laravel-openstackid-release-master/post.yaml
    timeout: 1800

- job:
    name: legacy-laravel-openstackid-unittests
    parent: legacy-base
    run: playbooks/legacy/laravel-openstackid-unittests/run.yaml
    post-run: playbooks/legacy/laravel-openstackid-unittests/post.yaml
    timeout: 1800

- job:
    name: legacy-logstash-filters
    parent: legacy-base
    required-projects:
      - opendev/ansible-role-puppet
      - openstack/logstash-filters
      - opendev/puppet-accessbot
      - opendev/puppet-ansible
      - opendev/puppet-askbot
      - opendev/puppet-asterisk
      - opendev/puppet-bandersnatch
      - opendev/puppet-bugdaystats
      - opendev/puppet-bup
      - opendev/puppet-cgit
      - opendev/puppet-diskimage_builder
      - opendev/puppet-drupal
      - opendev/puppet-elastic_recheck
      - opendev/puppet-elasticsearch
      - opendev/puppet-ethercalc
      - opendev/puppet-etherpad_lite
      - opendev/puppet-exim
      - opendev/puppet-germqtt
      - opendev/puppet-gerrit
      - opendev/puppet-gerritbot
      - opendev/puppet-github
      - opendev/puppet-grafyaml
      - opendev/puppet-graphite
      - opendev/puppet-haveged
      - opendev/puppet-hound
      - opendev/puppet-httpd
      - opendev/puppet-infracloud
      - opendev/puppet-iptables
      - opendev/puppet-jeepyb
      - opendev/puppet-jenkins
      - opendev/puppet-kerberos
      - opendev/puppet-kibana
      - opendev/puppet-lodgeit
      - opendev/puppet-log_processor
      - opendev/puppet-logrotate
      - opendev/puppet-logstash
      - opendev/puppet-lpmqtt
      - opendev/puppet-mailman
      - opendev/puppet-mediawiki
      - opendev/puppet-meetbot
      - opendev/puppet-mosquitto
      - opendev/puppet-mqtt_statsd
      - opendev/puppet-mysql_backup
      - opendev/puppet-nodepool
      - opendev/puppet-openafs
      - opendev/puppet-openstackci
      - opendev/puppet-openstack_health
      - opendev/puppet-openstackid
      - opendev/puppet-os_client_config
      - opendev/puppet-packagekit
      - opendev/puppet-pgsql_backup
      - opendev/puppet-phabricator
      - opendev/puppet-pip
      - opendev/puppet-planet
      - opendev/puppet-project_config
      - opendev/puppet-ptgbot
      - opendev/puppet-redis
      - opendev/puppet-refstack
      - opendev/puppet-reviewday
      - opendev/puppet-simpleproxy
      - opendev/puppet-snmpd
      - opendev/puppet-ssh
      - opendev/puppet-ssl_cert_check
      - opendev/puppet-statusbot
      - opendev/puppet-storyboard
      - opendev/puppet-subunit2sql
      - opendev/puppet-sudoers
      - opendev/puppet-tmpreaper
      - opendev/puppet-ulimit
      - opendev/puppet-unattended_upgrades
      - opendev/puppet-unbound
      - opendev/puppet-user
      - opendev/puppet-vcsrepo
      - opendev/puppet-zanata
      - opendev/puppet-zuul
      - opendev/system-config
    run: playbooks/legacy/logstash-filters/run.yaml
    post-run: playbooks/legacy/logstash-filters/post.yaml
    timeout: 1800
    voting: false
    nodeset: ubuntu-xenial

- job:
    name: legacy-logstash-filters-ubuntu-trusty
    parent: legacy-base
    required-projects:
      - opendev/ansible-role-puppet
      - openstack/logstash-filters
      - opendev/puppet-accessbot
      - opendev/puppet-ansible
      - opendev/puppet-askbot
      - opendev/puppet-asterisk
      - opendev/puppet-bandersnatch
      - opendev/puppet-bugdaystats
      - opendev/puppet-bup
      - opendev/puppet-cgit
      - opendev/puppet-diskimage_builder
      - opendev/puppet-drupal
      - opendev/puppet-elastic_recheck
      - opendev/puppet-elasticsearch
      - opendev/puppet-ethercalc
      - opendev/puppet-etherpad_lite
      - opendev/puppet-exim
      - opendev/puppet-germqtt
      - opendev/puppet-gerrit
      - opendev/puppet-gerritbot
      - opendev/puppet-github
      - opendev/puppet-grafyaml
      - opendev/puppet-graphite
      - opendev/puppet-haveged
      - opendev/puppet-hound
      - opendev/puppet-httpd
      - opendev/puppet-infracloud
      - opendev/puppet-iptables
      - opendev/puppet-jeepyb
      - opendev/puppet-jenkins
      - opendev/puppet-kerberos
      - opendev/puppet-kibana
      - opendev/puppet-lodgeit
      - opendev/puppet-log_processor
      - opendev/puppet-logrotate
      - opendev/puppet-logstash
      - opendev/puppet-lpmqtt
      - opendev/puppet-mailman
      - opendev/puppet-mediawiki
      - opendev/puppet-meetbot
      - opendev/puppet-mosquitto
      - opendev/puppet-mqtt_statsd
      - opendev/puppet-mysql_backup
      - opendev/puppet-nodepool
      - opendev/puppet-openafs
      - opendev/puppet-openstackci
      - opendev/puppet-openstack_health
      - opendev/puppet-openstackid
      - opendev/puppet-os_client_config
      - opendev/puppet-packagekit
      - opendev/puppet-pgsql_backup
      - opendev/puppet-phabricator
      - opendev/puppet-pip
      - opendev/puppet-planet
      - opendev/puppet-project_config
      - opendev/puppet-ptgbot
      - opendev/puppet-redis
      - opendev/puppet-refstack
      - opendev/puppet-reviewday
      - opendev/puppet-simpleproxy
      - opendev/puppet-snmpd
      - opendev/puppet-ssh
      - opendev/puppet-ssl_cert_check
      - opendev/puppet-statusbot
      - opendev/puppet-storyboard
      - opendev/puppet-subunit2sql
      - opendev/puppet-sudoers
      - opendev/puppet-tmpreaper
      - opendev/puppet-ulimit
      - opendev/puppet-unattended_upgrades
      - opendev/puppet-unbound
      - opendev/puppet-user
      - opendev/puppet-vcsrepo
      - opendev/puppet-zanata
      - opendev/puppet-zuul
      - opendev/system-config
    run: playbooks/legacy/logstash-filters-ubuntu-trusty/run.yaml
    post-run: playbooks/legacy/logstash-filters-ubuntu-trusty/post.yaml
    timeout: 1800
    nodeset: legacy-ubuntu-trusty
    branches: master

- job:
    name: legacy-monasca-api-localrepo-upload
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/monasca-api-localrepo-upload/run.yaml
    post-run: playbooks/legacy/monasca-api-localrepo-upload/post.yaml
    timeout: 1800

- job:
    name: legacy-monasca-api-maven-build
    parent: legacy-base
    run: playbooks/legacy/monasca-api-maven-build/run.yaml
    timeout: 1800

- job:
    name: legacy-monasca-common-localrepo-upload
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/monasca-common-localrepo-upload/run.yaml
    post-run: playbooks/legacy/monasca-common-localrepo-upload/post.yaml
    timeout: 1800

- job:
    name: legacy-monasca-common-maven-build
    parent: legacy-base
    run: playbooks/legacy/monasca-common-maven-build/run.yaml
    timeout: 1800

- job:
    name: legacy-monasca-persister-localrepo-upload
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/monasca-persister-localrepo-upload/run.yaml
    post-run: playbooks/legacy/monasca-persister-localrepo-upload/post.yaml
    timeout: 1800

- job:
    name: legacy-monasca-persister-maven-build
    parent: legacy-base
    run: playbooks/legacy/monasca-persister-maven-build/run.yaml
    timeout: 1800

- job:
    name: legacy-monasca-thresh-localrepo-upload
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/monasca-thresh-localrepo-upload/run.yaml
    post-run: playbooks/legacy/monasca-thresh-localrepo-upload/post.yaml
    timeout: 1800

- job:
    name: legacy-monasca-thresh-maven-build
    parent: legacy-base
    run: playbooks/legacy/monasca-thresh-maven-build/run.yaml
    timeout: 1800

- job:
    name: legacy-networking-bagpipe-dsvm-fullstack
    parent: legacy-dsvm-base
    run: playbooks/legacy/networking-bagpipe-dsvm-fullstack/run.yaml
    post-run: playbooks/legacy/networking-bagpipe-dsvm-fullstack/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bagpipe
      - openstack/networking-bgpvpn
      - openstack/networking-sfc

- job:
    name: legacy-networking-bgpvpn-bagpipe-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/networking-bgpvpn-bagpipe-dsvm-functional/run.yaml
    post-run: playbooks/legacy/networking-bgpvpn-bagpipe-dsvm-functional/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bagpipe
      - openstack/networking-bgpvpn

- job:
    name: legacy-networking-bgpvpn-bagpipe-dsvm-install
    parent: legacy-dsvm-base
    run: playbooks/legacy/networking-bgpvpn-bagpipe-dsvm-install/run.yaml
    post-run: playbooks/legacy/networking-bgpvpn-bagpipe-dsvm-install/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bagpipe
      - openstack/networking-bgpvpn

- job:
    name: legacy-networking-bgpvpn-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/networking-bgpvpn-dsvm-functional/run.yaml
    post-run: playbooks/legacy/networking-bgpvpn-dsvm-functional/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bgpvpn
      - openstack/neutron
      - openstack/networking-bagpipe
      - openstack/networking-odl
      - openstack/horizon

- job:
    name: legacy-networking-bgpvpn-dsvm-install
    parent: legacy-dsvm-base
    run: playbooks/legacy/networking-bgpvpn-dsvm-install/run.yaml
    post-run: playbooks/legacy/networking-bgpvpn-dsvm-install/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bgpvpn

- job:
    name: legacy-neutron-dsvm-api
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutron-dsvm-api/run.yaml
    post-run: playbooks/legacy/neutron-dsvm-api/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron

- job:
    name: legacy-neutron-dsvm-api-pecan
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutron-dsvm-api-pecan/run.yaml
    post-run: playbooks/legacy/neutron-dsvm-api-pecan/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron

- job:
    name: legacy-neutron-fwaas-dsvm-fullstack
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutron-fwaas-dsvm-fullstack/run.yaml
    post-run: playbooks/legacy/neutron-fwaas-dsvm-fullstack/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas

- job:
    name: legacy-neutron-fwaas-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutron-fwaas-dsvm-functional/run.yaml
    post-run: playbooks/legacy/neutron-fwaas-dsvm-functional/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas

- job:
    name: legacy-neutron-fwaas-v1-dsvm-tempest
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutron-fwaas-v1-dsvm-tempest/run.yaml
    post-run: playbooks/legacy/neutron-fwaas-v1-dsvm-tempest/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas
      - openstack/tempest

- job:
    name: legacy-neutron-fwaas-v1-dsvm-tempest-multinode
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/neutron-fwaas-v1-dsvm-tempest-multinode/run.yaml
    post-run: playbooks/legacy/neutron-fwaas-v1-dsvm-tempest-multinode/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas
      - openstack/tempest

- job:
    name: legacy-neutron-fwaas-v2-dsvm-tempest
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutron-fwaas-v2-dsvm-tempest/run.yaml
    post-run: playbooks/legacy/neutron-fwaas-v2-dsvm-tempest/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas
      - openstack/tempest

- job:
    name: legacy-neutron-fwaas-v2-dsvm-tempest-multinode
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/neutron-fwaas-v2-dsvm-tempest-multinode/run.yaml
    post-run: playbooks/legacy/neutron-fwaas-v2-dsvm-tempest-multinode/post.yaml
    timeout: 7500
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-fwaas
      - openstack/tempest

- job:
    name: legacy-neutronclient-test-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutronclient-test-dsvm-functional/run.yaml
    post-run: playbooks/legacy/neutronclient-test-dsvm-functional/post.yaml
    timeout: 4200
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/python-neutronclient

- job:
    name: legacy-neutronclient-test-dsvm-functional-adv-svcs
    parent: legacy-dsvm-base
    run: playbooks/legacy/neutronclient-test-dsvm-functional-adv-svcs/run.yaml
    post-run: playbooks/legacy/neutronclient-test-dsvm-functional-adv-svcs/post.yaml
    timeout: 4200
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/python-neutronclient

- job:
    name: legacy-omni-tests
    parent: legacy-base
    run: playbooks/legacy/omni-tests/run.yaml
    post-run: playbooks/legacy/omni-tests/post.yaml
    timeout: 4200
    required-projects:
      - openstack/cinder
      - openstack/neutron
      - openstack/nova
      - openstack/glance_store
      - openstack/requirements

- job:
    name: legacy-periodic-neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4
    parent: legacy-dsvm-base
    run: playbooks/legacy/periodic-neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4/run.yaml
    post-run: playbooks/legacy/periodic-neutron-dynamic-routing-dsvm-tempest-with-ryu-master-scenario-ipv4/post.yaml
    timeout: 7800
    branches: master
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/neutron-dynamic-routing
      - openstack/tempest

- job:
    name: legacy-periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata
    parent: legacy-dsvm-base
    run: playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata/run.yaml
    post-run: playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-ml2-full-ocata/post.yaml
    timeout: 7800
    branches: stable/ocata
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-l2gw
      - openstack/networking-midonet
      - openstack/neutron-dynamic-routing
      - x/tap-as-a-service
      - openstack/tempest

- job:
    name: legacy-periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata
    parent: legacy-dsvm-base
    run: playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata/run.yaml
    post-run: playbooks/legacy/periodic-tempest-dsvm-networking-midonet-aio-v2-full-ocata/post.yaml
    branches: stable/ocata
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-l2gw
      - openstack/networking-midonet
      - openstack/neutron-dynamic-routing
      - x/tap-as-a-service
      - openstack/tempest

- job:
    name: legacy-puppet-beaker-rspec
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-beaker-rspec/run.yaml
    post-run: playbooks/legacy/puppet-beaker-rspec/post.yaml
    timeout: 3600
    required-projects:
      - openstack/puppet-openstack-integration
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^test-requirements.txt$

- job:
    name: legacy-puppet-beaker-rspec-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-beaker-rspec-centos-7/run.yaml
    post-run: playbooks/legacy/puppet-beaker-rspec-centos-7/post.yaml
    timeout: 3600
    nodeset: legacy-centos-7
    required-projects:
      - openstack/puppet-openstack-integration
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^test-requirements.txt$

- job:
    name: legacy-puppet-httpd-forge-upload
    parent: legacy-base
    run: playbooks/legacy/puppet-httpd-forge-upload/run.yaml
    timeout: 1800

- job:
    name: legacy-puppet-lint
    parent: legacy-base
    run: playbooks/legacy/puppet-lint/run.yaml
    timeout: 1800
    nodeset: ubuntu-xenial

- job:
    name: legacy-puppet-midonet-puppet-unit-3.6-centos-7
    parent: legacy-base
    run: playbooks/legacy/puppet-midonet-puppet-unit-3.6-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-puppet-midonet-puppet-unit-3.8-centos-7
    parent: legacy-base
    run: playbooks/legacy/puppet-midonet-puppet-unit-3.8-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-puppet-midonet-puppet-unit-4.5-centos-7
    parent: legacy-base
    run: playbooks/legacy/puppet-midonet-puppet-unit-4.5-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-puppet-midonet-puppet-unit-latest-centos-7
    parent: legacy-base
    run: playbooks/legacy/puppet-midonet-puppet-unit-latest-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7

- job:
    name: legacy-puppet-openstack-infra-spec-helper-unit
    parent: legacy-base
    run: playbooks/legacy/puppet-openstack-infra-spec-helper-unit/run.yaml
    timeout: 3600
    required-projects:
      - opendev/puppet-openstackci

- job:
    name: legacy-puppet-openstack-infra-spec-helper-unit-centos-7
    parent: legacy-base
    run: playbooks/legacy/puppet-openstack-infra-spec-helper-unit-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7
    required-projects:
      - opendev/puppet-openstackci

- job:
    name: legacy-puppet-openstack-infra-spec-helper-unit-ubuntu-trusty
    parent: legacy-base
    run: playbooks/legacy/puppet-openstack-infra-spec-helper-unit-ubuntu-trusty/run.yaml
    timeout: 3600
    nodeset: legacy-ubuntu-trusty
    required-projects:
      - opendev/puppet-openstackci

- job:
    name: legacy-puppet-storyboard-forge-upload
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-storyboard-forge-upload/run.yaml
    timeout: 1800

- job:
    name: legacy-puppet-syntax-3
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-syntax-3/run.yaml
    timeout: 1800
    nodeset: legacy-ubuntu-xenial

- job:
    name: legacy-puppet-syntax-3-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-syntax-3-centos-7/run.yaml
    timeout: 1800
    nodeset: legacy-centos-7

- job:
    name: legacy-puppet-syntax-4-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-syntax-4-centos-7/run.yaml
    timeout: 1800
    nodeset: legacy-centos-7

- job:
    name: legacy-puppet-unit-3.6-legacy-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-unit-3.6-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7
    branches: ^(stable/(newton|ocata)).*$
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^test-requirements.txt$

- job:
    name: legacy-puppet-unit-3.8-legacy-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-unit-3.8-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7
    branches: ^(stable/(newton|ocata)).*$
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^test-requirements.txt$

- job:
    name: legacy-puppet-unit-4.8-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-unit-4.8-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^test-requirements.txt$

- job:
    name: legacy-puppet-unit-latest-centos-7
    parent: legacy-puppet-openstack-integration
    run: playbooks/legacy/puppet-unit-latest-centos-7/run.yaml
    timeout: 3600
    nodeset: legacy-centos-7
    branches: ^master
    voting: false
    irrelevant-files:
      - ^.*\.md$
      - ^.*\.rst$
      - ^doc/.*$
      - ^etc/.*$
      - ^metadata.json$
      - ^releasenotes/.*$
      - ^test-requirements.txt$

- job:
    name: legacy-sandbox-tag
    parent: legacy-base
    run: playbooks/legacy/sandbox-tag/run.yaml
    timeout: 1800

- job:
    name: legacy-scalpels-dsvm-neutron
    parent: legacy-dsvm-base
    run: playbooks/legacy/scalpels-dsvm-neutron/run.yaml
    post-run: playbooks/legacy/scalpels-dsvm-neutron/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - x/scalpels

- job:
    name: legacy-storyboard-js-integration
    parent: legacy-base
    run: playbooks/legacy/storyboard-js-integration/run.yaml
    post-run: playbooks/legacy/storyboard-js-integration/post.yaml
    timeout: 2400

- job:
    name: legacy-storyboard-js-integration-ubuntu-trusty
    parent: legacy-base
    run: playbooks/legacy/storyboard-js-integration-ubuntu-trusty/run.yaml
    post-run: playbooks/legacy/storyboard-js-integration-ubuntu-trusty/post.yaml
    timeout: 2400
    nodeset: legacy-ubuntu-trusty

- job:
    name: legacy-system-config-puppet-syntax-3
    parent: legacy-base
    run: playbooks/legacy/system-config-puppet-syntax-3/run.yaml
    timeout: 1800
    nodeset: legacy-ubuntu-xenial

- job:
    name: legacy-tempest-almanach-dsvm
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-almanach-dsvm/run.yaml
    post-run: playbooks/legacy/tempest-almanach-dsvm/post.yaml
    timeout: 4200
    required-projects:
      - openstack/devstack-gate
      - x/almanach
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-bdd
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-bdd/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-bdd/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - x/devstack-plugin-bdd
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-ceph-plugin-src-glance_store
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-ceph-plugin-src-glance_store/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-ceph-plugin-src-glance_store/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/devstack-plugin-ceph
      - openstack/glance
      - openstack/glance_store
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-ceph-plugin-src-os-brick
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-ceph-plugin-src-os-brick/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-ceph-plugin-src-os-brick/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/devstack-plugin-ceph
      - openstack/os-brick
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-devstack-plugin-ceph
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-devstack-plugin-ceph/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-devstack-plugin-ceph/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack
      - openstack/devstack-gate
      - openstack/devstack-plugin-ceph
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-devstack-plugin-nfs
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-devstack-plugin-nfs/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-devstack-plugin-nfs/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack
      - openstack/devstack-gate
      - x/devstack-plugin-nfs
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-drbd-devstack
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-drbd-devstack/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-drbd-devstack/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack
      - openstack/devstack-gate
      - x/drbd-devstack
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-hdfs
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-hdfs/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-hdfs/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - x/devstack-plugin-hdfs
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-lio-src-os-brick
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-lio-src-os-brick/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-lio-src-os-brick/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/os-brick
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-sheepdog
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-sheepdog/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-sheepdog/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - x/devstack-plugin-sheepdog
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-full-sheepdog-src-os-brick
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-full-sheepdog-src-os-brick/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-full-sheepdog-src-os-brick/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - x/devstack-plugin-sheepdog
      - openstack/os-brick
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-ironic-pxe_snmp-virtualpdu-src
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-ironic-pxe_snmp-virtualpdu-src/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-ironic-pxe_snmp-virtualpdu-src/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/ironic
      - openstack/ironic-lib
      - openstack/ironic-python-agent
      - x/pyghmi
      - openstack/python-ironicclient
      - openstack/tempest
      - openstack/virtualbmc
      - x/virtualpdu

- job:
    name: legacy-tempest-dsvm-ldap-domain-specific-driver
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-lvm-multibackend
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-lvm-multibackend/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-lvm-multibackend/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-lxd-linuxbridge
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-lxd-linuxbridge/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-lxd-linuxbridge/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/nova-lxd
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-lxd-ovs
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-lxd-ovs/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-lxd-ovs/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/nova-lxd
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-monasca-transform-python-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-monasca-transform-python-functional/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-monasca-transform-python-functional/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/monasca-agent
      - openstack/monasca-api
      - openstack/monasca-common
      - openstack/monasca-grafana-datasource
      - openstack/monasca-notification
      - openstack/monasca-persister
      - openstack/monasca-statsd
      - openstack/monasca-thresh
      - openstack/monasca-transform
      - openstack/monasca-ui
      - openstack/python-monascaclient
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-monasca-transform-python35-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-monasca-transform-python35-functional/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-monasca-transform-python35-functional/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/monasca-agent
      - openstack/monasca-api
      - openstack/monasca-common
      - openstack/monasca-grafana-datasource
      - openstack/monasca-notification
      - openstack/monasca-persister
      - openstack/monasca-statsd
      - openstack/monasca-thresh
      - openstack/monasca-transform
      - openstack/monasca-ui
      - openstack/python-monascaclient
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-multibackend-matrix
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-multibackend-matrix/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-multibackend-matrix/post.yaml
    timeout: 3600
    required-projects:
      - openstack/devstack-gate
      - openstack/devstack-plugin-ceph
      - x/devstack-plugin-nfs
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-multinode-full
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/tempest-dsvm-multinode-full/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-multinode-full/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/tempest
    nodeset: legacy-ubuntu-xenial-2-node

- job:
    name: legacy-tempest-dsvm-networking-bagpipe
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-bagpipe/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-bagpipe/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bagpipe
      - openstack/networking-bgpvpn
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-networking-bgpvpn-bagpipe
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-bgpvpn-bagpipe/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-bgpvpn-bagpipe/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-bagpipe
      - openstack/networking-bgpvpn
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-networking-onos
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-onos/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-onos/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-onos
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-ovn-ovs-release-ovsdbapp-src/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/networking-ovn
      - openstack/ovsdbapp
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-networking-ovs-dpdk
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-networking-ovs-dpdk/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-networking-ovs-dpdk/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - x/networking-ovs-dpdk
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-dvr-multinode-full
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/tempest-dsvm-neutron-dvr-multinode-full/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-dvr-multinode-full/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-dvr-multinode-scenario
    parent: legacy-dsvm-base-multinode
    run: playbooks/legacy/tempest-dsvm-neutron-dvr-multinode-scenario/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-dvr-multinode-scenario/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-full
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-full/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-full/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-full-centos-7
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-full-centos-7/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-full-centos-7/post.yaml
    timeout: 10800
    nodeset: legacy-centos-7
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-full-ocata
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-full-ocata/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-full-ocata/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest
    nodeset: legacy-ubuntu-xenial

- job:
    name: legacy-tempest-dsvm-neutron-full-opensuse-423
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-full-opensuse-423/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-full-opensuse-423/post.yaml
    timeout: 10800
    nodeset: legacy-opensuse-423
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-ipv6only
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-ipv6only/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-ipv6only/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-pecan
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-pecan/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-pecan/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-pg-full
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-pg-full/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-pg-full/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-scenario-linuxbridge
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-scenario-linuxbridge/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-scenario-linuxbridge/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-serviceipv6
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-serviceipv6/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-serviceipv6/post.yaml
    timeout: 7800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-src
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-src/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-src/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest
      - openstack/neutron-lib
    irrelevant-files:
      - ^.*\.rst$
      - ^api-ref/.*$
      - ^doc/.*$
      - ^releasenotes/.*$

# TODO(stephenfin): These jobs are artifacts of the migration process.
# Initially there was only one job - 'tempest-dsvm-neutron-src-{name}' - where
# '{name}' was set to the name of the project being tested. This was mainly run
# for library projects as part of the 'lib-forward-testing-{name}' job. However
# some non-library projects wanted to also run these tests against important
# libraries and called the job specifically with the library. The end result
# is jobs that look identical to 'legacy-tempest-dsvm-neutron-src' but with a
# specific library. Eventually, when 'legacy-tempest-dsvm-neutron-src' is
# migrated to zuulv3-native jobs, these should be removed in favour of this one
# central job again.

- job:
    name: legacy-tempest-dsvm-neutron-src-oslo.versionedobjects
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-src-oslo.versionedobjects/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-src-oslo.versionedobjects/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/oslo.versionedobjects
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-neutron-src-plugin
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-src-plugin/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-src-plugin/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest
    irrelevant-files:
      - ^(test-|)requirements.txt$
      - ^setup.cfg$

- job:
    name: legacy-tempest-dsvm-neutron-with-ryu-master
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-neutron-with-ryu-master/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-neutron-with-ryu-master/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/neutron
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-nova-libvirt-kvm-apr
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-nova-libvirt-kvm-apr/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-nova-libvirt-kvm-apr/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - x/devstack-plugin-additional-pkg-repos
      - openstack/nova
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-nova-v20-api
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-nova-v20-api/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-nova-v20-api/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/nova
      - openstack/tempest

- job:
    name: legacy-tempest-dsvm-zeromq-multibackend
    parent: legacy-dsvm-base
    run: playbooks/legacy/tempest-dsvm-zeromq-multibackend/run.yaml
    post-run: playbooks/legacy/tempest-dsvm-zeromq-multibackend/post.yaml
    timeout: 10800
    required-projects:
      - openstack/devstack-gate
      - openstack/devstack-plugin-zmq
      - openstack/tempest

- job:
    name: legacy-trio2o-dsvm-functional
    parent: legacy-dsvm-base
    run: playbooks/legacy/trio2o-dsvm-functional/run.yaml
    post-run: playbooks/legacy/trio2o-dsvm-functional/post.yaml
    timeout: 5400
    required-projects:
      - openstack/devstack-gate
      - x/trio2o

- job:
    name: legacy-zmq-event-publisher-hpi-artifact
    parent: legacy-publish-openstack-artifacts
    run: playbooks/legacy/zmq-event-publisher-hpi-artifact/run.yaml
    post-run: playbooks/legacy/zmq-event-publisher-hpi-artifact/post.yaml
    timeout: 1800

- job:
    name: legacy-zmq-event-publisher-jenkinsci-upload
    parent: legacy-base
    run: playbooks/legacy/zmq-event-publisher-jenkinsci-upload/run.yaml
    timeout: 1800

- job:
    name: legacy-zmq-event-publisher-maven-build-ubuntu-trusty
    parent: legacy-base
    run: playbooks/legacy/zmq-event-publisher-maven-build-ubuntu-trusty/run.yaml
    timeout: 1800
    nodeset: legacy-ubuntu-trusty
